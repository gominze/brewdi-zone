<!DOCTYPE html>
<html>
  <head>
    <title>HoNoRiX</title>
    <script src="https://parse.com/downloads/javascript/parse-1.17.3.min.js"></script>
  </head>
  <body>
    <h1>Willkommen bei Honorix</h1>
    <h2>Ein AWS 07/2022 Projekt</h2>

    <form>
      <label for="numberInput">Gib eine Zahl zwischen 1 und 10 ein:</label>
      <input
        type="number"
        id="numberInput"
        name="numberInput"
        min="1"
        max="10"
      />
      <br />
      <button type="button" onclick="submitNumber()">Absenden</button>
    </form>

    <p>Das Ergebnis wird hier angezeigt: <span id="result"></span></p>

    <script>
      // connect 2 backend
      Parse.initialize(
        "Y2Nci95rXG9BCXLTCnvEyhzTvqeY9FkyCHxxkINAe",
        "JwOlY3bEpYslTtpYlTUH0bvUh8P4KHOC9yp4dSdp"
      );
      Parse.serverURL = "https://parseapi.back4app.com/";

      function submitNumber() {
        // get number
        var number = document.getElementById("numberInput").value;

        // save number in db
        var NumberObject = Parse.Object.extend("NumberObject");
        var newNumber = new NumberObject();
        newNumber.set("number", number);
        newNumber.save(null, {
          success: function (newNumber) {
            // show number with multiplier
            var result = number * 2;
            document.getElementById("result").innerHTML = result;
          },
          error: function (newNumber, error) {
            // error msg
            alert("Fehler beim Speichern der Zahl: " + error.message);
          },
        });
      }
    </script>
  </body>
</html>
